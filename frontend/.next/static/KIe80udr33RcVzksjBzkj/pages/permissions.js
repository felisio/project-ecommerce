(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{123:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);function i(e,t,r){var a=r.fragmentMap,s=r.contextValue,c=r.variableValues,u={};return e.selections.forEach(function(e){if(n.shouldInclude(e,c))if(n.isField(e)){var l=function(e,t,r){var a=r.variableValues,o=r.contextValue,s=r.resolver,c=e.name.value,u=n.argumentsObjectFromField(e,a),l={isLeaf:!e.selectionSet,resultKey:n.resultKeyNameFromField(e),directives:n.getDirectiveInfoFromField(e,a)},f=s(c,t,u,o,l);if(!e.selectionSet)return f;if(null==f)return f;if(Array.isArray(f))return function e(t,r,n){return r.map(function(r){return null===r?null:Array.isArray(r)?e(t,r,n):i(t.selectionSet,r,n)})}(e,f,r);return i(e.selectionSet,f,r)}(e,t,r),f=n.resultKeyNameFromField(e);void 0!==l&&(void 0===u[f]?u[f]=l:o(u[f],l))}else{var p=void 0;if(n.isInlineFragment(e))p=e;else if(!(p=a[e.name.value]))throw new Error("No fragment named "+e.name.value);var d=p.typeCondition.name.value;if(r.fragmentMatcher(t,d,s)){var h=i(p.selectionSet,t,r);o(u,h)}}}),r.resultMapper?r.resultMapper(u,t):u}t.graphql=function(e,t,r,a,o,s){void 0===s&&(s={});var c=n.getMainDefinition(t),u=n.getFragmentDefinitions(t),l={fragmentMap:n.createFragmentMap(u),contextValue:a,variableValues:o,resultMapper:s.resultMapper,resolver:e,fragmentMatcher:s.fragmentMatcher||function(){return!0}};return i(c.selectionSet,r,l)};var a=Object.prototype.hasOwnProperty;function o(e,t){null!==t&&"object"==typeof t&&Object.keys(t).forEach(function(r){var n=t[r];a.call(e,r)?o(e[r],n):e[r]=n})}t.merge=o},124:function(e,t,r){"use strict";function n(e){this.map=new Map,this.newest=null,this.oldest=null,this.max=e&&e.max,this.dispose=e&&e.dispose}t.Cache=n;var i=n.prototype;function a(e,t){var r=e.map.get(t);if(r&&r!==e.newest){var n=r.older,i=r.newer;i&&(i.older=n),n&&(n.newer=i),r.older=e.newest,r.older.newer=r,r.newer=null,e.newest=r,r===e.oldest&&(e.oldest=i)}return r}i.has=function(e){return this.map.has(e)},i.get=function(e){var t=a(this,e);return t&&t.value},i.set=function(e,t){var r=a(this,e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)},i.clean=function(){if("number"==typeof this.max)for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},i.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),"function"==typeof this.dispose&&this.dispose(e,t.value),!0)}},125:function(e,t,r){"use strict";r.r(t),r.d(t,"tuple",function(){return d}),r.d(t,"lookup",function(){return f}),r.d(t,"lookupArray",function(){return p});var n="function"==typeof Symbol&&"function"==typeof Symbol.for,i=n?Symbol.for("immutable-tuple"):"@@__IMMUTABLE_TUPLE__@@",a=n?Symbol.for("immutable-tuple-root"):"@@__IMMUTABLE_TUPLE_ROOT__@@";function o(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!!n,writable:!1,configurable:!1}),r}var s=Object.freeze||function(e){return e};function c(e){switch(typeof e){case"object":if(null===e)return!1;case"function":return!0;default:return!1}}var u=function(){this._weakMap=null,this._strongMap=null,this.data=null};u.prototype.get=function(e){var t=this._getMap(e,!1);if(t)return t.get(e)},u.prototype.set=function(e,t){return this._getMap(e,!0).set(e,t),t},u.prototype._getMap=function(e,t){return t?c(e)?this._weakMap||(this._weakMap=new WeakMap):this._strongMap||(this._strongMap=new Map):c(e)?this._weakMap:this._strongMap};var l=Array[a]||o(Array,a,new u,!1);function f(){return p(arguments)}function p(e){for(var t=l,r=e.length,n=0;n<r;++n){var i=e[n];t=t.get(i)||t.set(i,new u)}return t.data||(t.data=Object.create(null))}function d(){var e=arguments,t=f.apply(null,arguments);if(t.tuple)return t.tuple;for(var r=Object.create(d.prototype),n=arguments.length,i=0;i<n;++i)r[i]=e[i];return o(r,"length",n,!1),s(t.tuple=r)}function h(e){return!(!e||!0!==e[i])}function m(e){for(var t=[],r=e.length;r--;)t[r]=e[r];return t}o(d.prototype,i,!0,!1),d.isTuple=h,function(e){function t(t,r){var n=Object.getOwnPropertyDescriptor(Array.prototype,t);e(t,n,!!r)}t("every"),t("filter"),t("find"),t("findIndex"),t("forEach"),t("includes"),t("indexOf"),t("join"),t("lastIndexOf"),t("map"),t("reduce"),t("reduceRight"),t("slice"),t("some"),t("toLocaleString"),t("toString"),t("reverse",!0),t("sort",!0),t(n&&Symbol.iterator||"@@iterator")}(function(e,t,r){var n=t&&t.value;"function"==typeof n&&(t.value=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var i=n.apply(r?m(this):this,e);return Array.isArray(i)?d.apply(void 0,i):i},Object.defineProperty(d.prototype,e,t))});var y=Array.prototype.concat;d.prototype.concat=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return d.apply(void 0,y.apply(m(this),e.map(function(e){return h(e)?m(e):e})))},t.default=d},126:function(e,t,r){"use strict";var n=r(73).get,i=Object.create(null),a=[],o=[];function s(e,t){if(!e)throw new Error(t||"assertion failure")}function c(e,t,r){this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,u(this,e,t,r),++c.count}function u(e,t,r,n){e.fn=t,e.key=r,e.args=n,e.value=i,e.dirty=!0,e.subscribe=null,e.unsubscribe=null,e.recomputing=!1,e.reportOrphan=null}t.POOL_TARGET_SIZE=100,c.count=0,c.acquire=function(e,t,r){var n=o.pop();return n?(u(n,e,t,r),n):new c(e,t,r)},t.Entry=c;var l=c.prototype;function f(e){var t=e.reportOrphan;return"function"==typeof t&&0===e.parents.size&&!0===t(e)}function p(e){e.parents.forEach(function(t){m(t,e)})}function d(e){e.parents.forEach(function(t){y(t,e)})}function h(e){return e.dirty||e.dirtyChildren&&e.dirtyChildren.size}function m(e,t){if(s(e.childValues.has(t)),s(h(t)),e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=a.pop()||new Set;e.dirtyChildren.add(t),p(e)}function y(e,t){var r=e.childValues;s(r.has(t)),s(!h(t));var n=r.get(t);n===i?r.set(t,t.value):n!==t.value&&e.setDirty(),v(e,t),h(e)||d(e)}function v(e,r){var n=e.dirtyChildren;n&&(n.delete(r),0===n.size&&(a.length<t.POOL_TARGET_SIZE&&a.push(n),e.dirtyChildren=null))}function b(e){s(!e.recomputing,"already recomputing"),e.recomputing=!0;var t=O(e),r=n(),i=r.currentParentEntry;r.currentParentEntry=e;var a=!0;try{e.value=e.fn.apply(null,e.args),a=!1}finally{e.recomputing=!1,s(r.currentParentEntry===e),r.currentParentEntry=i,a||!function(e){if("function"==typeof e.subscribe)try{j(e),e.unsubscribe=e.subscribe.apply(null,e.args)}catch(t){return e.setDirty(),!1}return!0}(e)?e.setDirty():function(e){e.dirty=!1,h(e)||d(e)}(e)}return t.forEach(f),e.value}l.recompute=function(){if(function(e){var t=n().currentParentEntry;if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,i),h(e)?m(t,e):y(t,e),t}(this)||!f(this))return function e(t){if(t.dirty)return b(t);if(h(t)&&(t.dirtyChildren.forEach(function(r){s(t.childValues.has(r));try{e(r)}catch(e){t.setDirty()}}),t.dirty))return b(t);s(t.value!==i);return t.value}(this)},l.setDirty=function(){this.dirty||(this.dirty=!0,this.value=i,p(this),j(this))},l.dispose=function(){var e=this;O(e).forEach(f),j(e),e.parents.forEach(function(t){t.setDirty(),w(t,e)}),function(e){s(0===e.parents.size),s(0===e.childValues.size),s(null===e.dirtyChildren),o.length<t.POOL_TARGET_SIZE&&o.push(e)}(e)};var g=[];function O(e){var t=g;return e.childValues.size>0&&(t=[],e.childValues.forEach(function(r,n){w(e,n),t.push(n)})),s(null===e.dirtyChildren),t}function w(e,t){t.parents.delete(e),e.childValues.delete(t),v(e,t)}function j(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=null,t())}},26:function(e,t,r){"use strict";var n=r(8),i=r.n(n),a=r(0),o=r.n(a),s=r(5),c=r(7),u=r.n(c),l=r(14),f=r.n(l),p=r(16),d=r(12),h=r(9);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  mutation SIGNIN_MUTATION(\n    $email: String!\n    $password: String!\n  ) {\n    signin(\n      email: $email\n      password: $password\n    ) {\n      id\n      name\n      email\n    }\n  }\n"]);return j=function(){return e},e}var _=u()(j()),E=function(e){function t(){var e,r,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=this,i=(e=b(t)).call.apply(e,[this].concat(o)),r=!i||"object"!==m(i)&&"function"!=typeof i?g(n):i,w(g(r),"state",{email:"",password:""}),w(g(r),"saveToState",function(e){r.setState(w({},e.target.name,e.target.value))}),r}var r,n,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,a["Component"]),r=t,(n=[{key:"render",value:function(){var e=this;return o.a.createElement(s.Mutation,{mutation:_,refetchQueries:[{query:h.a}],variables:this.state},function(t,r){var n=r.loading,a=r.error;return o.a.createElement(p.a,{method:"post",onSubmit:function(){var r,n=(r=i.a.mark(function r(n){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),r.next=3,t();case 3:r.sent,e.setState({email:"",password:""}),f.a.push({pathname:"/items"});case 6:case"end":return r.stop()}},r)}),function(){var e=this,t=arguments;return new Promise(function(n,i){var a=r.apply(e,t);function o(e){y(a,n,i,o,s,"next",e)}function s(e){y(a,n,i,o,s,"throw",e)}o(void 0)})});return function(e){return n.apply(this,arguments)}}()},o.a.createElement("fieldset",{disabled:n,"aria-busy":n},o.a.createElement("h2",null,"Sign into your account"),o.a.createElement(d.a,{error:a}),o.a.createElement("label",{htmlFor:"email"},"Email",o.a.createElement("input",{type:"email",name:"email",placeholder:"email",value:e.state.email,onChange:e.saveToState})),o.a.createElement("label",{htmlFor:"password"},"Password",o.a.createElement("input",{type:"password",name:"password",placeholder:"password",value:e.state.password,onChange:e.saveToState})),o.a.createElement("button",{type:"submit"},"Sign in!")))})}}])&&v(r.prototype,n),c&&v(r,c),t}();t.a=E},309:function(e,t,r){__NEXT_REGISTER_PAGE("/permissions",function(){return e.exports=r(323),{page:e.exports.default}})},323:function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n),a=r(36),o=r(5),s=r(7),c=r.n(s),u=r(6).b.table.withConfig({displayName:"Table",componentId:"sc-1jvbtk5-0"})(["border-spacing:0;width:100%;border:1px solid ",";thead{font-size:10px;}td,th{border-bottom:1px solid ",";border-right:1px solid ",";padding:5px;position:relative;&:last-child{border-right:none;width:150px;button{width:100%;}}label{display:block;padding:10px 5px;}}tr{&:hover{background:",";}}"],function(e){return e.theme.offWhite},function(e){return e.theme.offWhite},function(e){return e.theme.offWhite},function(e){return e.theme.offWhite}),l=r(12),f=(r(26),r(9),r(3),r(74)),p=r(77);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  mutation UPDATE_PERMISSION_MUTATIONS( $permissions: [Permission], $userId: ID! ) {\n    updatePermissions( permissions: $permissions, userId: $userId ) {\n      id\n      name\n      email\n      permissions\n    }\n  }\n"]);return O=function(){return e},e}var w=Object(p.b)(O()),j=function(e){function t(){var e,r,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=this,i=(e=y(t)).call.apply(e,[this].concat(o)),r=!i||"object"!==d(i)&&"function"!=typeof i?v(n):i,g(v(r),"state",{permissions:r.props.user.permissions}),g(v(r),"handlePermissionChange",function(e,t){var n=e.target,i=h(r.state.permissions);n.checked?i.push(n.value):i=i.filter(function(e){return e!==n.value}),r.setState({permissions:i},t)}),r}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,i.a.Component),r=t,(n=[{key:"render",value:function(){var e=this,t=this.props.user;return i.a.createElement(o.Mutation,{mutation:w,variables:{permissions:this.state.permissions,userId:t.id}},function(r,n){var a=n.loading;n.error;return i.a.createElement("tr",{key:t.id},i.a.createElement("td",null,t.name),i.a.createElement("td",null,t.email),E.map(function(n){return i.a.createElement("td",{key:n},i.a.createElement("label",{htmlFor:"".concat(t.id,"-permission-").concat(n)},i.a.createElement("input",{id:"".concat(t.id,"-permission-").concat(n),type:"checkbox",checked:e.state.permissions.includes(n),value:n,onChange:function(t){return e.handlePermissionChange(t,r)}})))}),i.a.createElement("td",null,i.a.createElement(f.a,{type:"button",disabled:a,onClick:r},"Updat",a?"ing":"e")))})}}])&&m(r.prototype,n),a&&m(r,a),t}();function _(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\nquery ALL_USERS_QUERY {\n  users {\n    id\n    name\n    email\n    permissions\n  }\n}\n"]);return _=function(){return e},e}var E=["ADMIN","USER","ITEMCREATE","ITEMUPDATE","ITEMDELETE","PERMISSIONUPDATE"],S=c()(_()),x=function(e){return i.a.createElement(o.Query,{query:S},function(t){var r=t.data,n=t.loading,a=t.error;return a?i.a.createElement(l.a,{error:a}):n?i.a.createElement("p",null,"Loading..."):r.users?i.a.createElement("div",null,i.a.createElement("h2",null,"Manage Permissions"),i.a.createElement(u,null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Name"),i.a.createElement("th",null,"Email"),E.map(function(e){return i.a.createElement("th",{key:e},e)}),i.a.createElement("th",null,"ðŸ‘‡"))),i.a.createElement("tbody",null,r.users.map(function(e){return i.a.createElement(j,{key:e.id,user:e})})))):e.children})};t.default=function(e){return i.a.createElement("div",null,i.a.createElement(a.a,null,i.a.createElement(x,null)))}},36:function(e,t,r){"use strict";var n=r(0),i=r.n(n),a=r(5),o=(r(7),r(26)),s=r(9);t.a=function(e){return i.a.createElement(a.Query,{query:s.a},function(t){var r=t.data;return t.loading?i.a.createElement("p",null,"Loading..."):r.me?e.children:i.a.createElement("div",null,i.a.createElement("h2",null,"Please Sign in!"),i.a.createElement(o.a,null))})}},37:function(e,t,r){"use strict";var n=r(124).Cache,i=r(125).tuple,a=r(126).Entry,o=r(73).get;t.defaultMakeCacheKey=i,t.wrap=function(e,t){var r=!!(t=function(e){return"function"!=typeof(e=e||Object.create(null)).makeCacheKey&&(e.makeCacheKey=i),"number"!=typeof e.max&&(e.max=Math.pow(2,16)),e}(t)).disposable,s=new n({max:t.max,dispose:function(e,t){t.dispose()}});function c(e){if(r)return s.delete(e.key),!0}function u(){if(!r||o().currentParentEntry){var n=t.makeCacheKey.apply(null,arguments);if(!n)return e.apply(null,arguments);for(var i=[],u=arguments.length;u--;)i[u]=arguments[u];var l=s.get(n);l?l.args=i:(s.set(n,l=a.acquire(e,n,i)),l.subscribe=t.subscribe,r&&(l.reportOrphan=c));var f=l.recompute();return s.set(n,l),0===l.parents.size&&s.clean(),r?void 0:f}}return u.dirty=function(){var e=t.makeCacheKey.apply(null,arguments);e&&s.has(e)&&s.get(e).setDirty()},u}},73:function(e,t,r){"use strict";(function(e){var r=new function(){};function n(){return r}try{var i=e["eriuqer".split("").reverse().join("")]("fibers");n=function(){return i.current||r}}catch(e){}t.get=function(){var e=n();return e._optimism_local||(e._optimism_local=Object.create(null))}}).call(this,r(72)(e))},74:function(e,t,r){"use strict";var n=r(6).b.button.withConfig({displayName:"SickButton",componentId:"l04z44-0"})(["background:red;color:white;font-weight:500;border:0;border-radius:0;text-transform:uppercase;font-size:2rem;padding:0.8rem 1.5rem;transform:skew(-2deg);display:inline-block;transition:all 0.5s;&[disabled]{opacity:0.5;}"]);t.a=n},75:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r(1),a=r(123);function o(e,t,r){return n.__awaiter(this,void 0,void 0,function(){var c,u,l,f,p,d=this;return n.__generator(this,function(h){switch(h.label){case 0:return c=r.fragmentMap,u=r.contextValue,l=r.variableValues,f={},p=function(e){return n.__awaiter(d,void 0,void 0,function(){var p,d,h,m,y;return n.__generator(this,function(n){switch(n.label){case 0:return i.shouldInclude(e,l)?i.isField(e)?[4,s(e,t,r)]:[3,2]:[2];case 1:return p=n.sent(),d=i.resultKeyNameFromField(e),void 0!==p&&(void 0===f[d]?f[d]=p:a.merge(f[d],p)),[2];case 2:if(i.isInlineFragment(e))h=e;else if(!(h=c[e.name.value]))throw new Error("No fragment named "+e.name.value);return m=h.typeCondition.name.value,r.fragmentMatcher(t,m,u)?[4,o(h.selectionSet,t,r)]:[3,4];case 3:y=n.sent(),a.merge(f,y),n.label=4;case 4:return[2]}})})},[4,Promise.all(e.selections.map(p))];case 1:return h.sent(),r.resultMapper?[2,r.resultMapper(f,t)]:[2,f]}})})}function s(e,t,r){return n.__awaiter(this,void 0,void 0,function(){var a,s,u,l,f,p,d;return n.__generator(this,function(n){switch(n.label){case 0:return a=r.variableValues,s=r.contextValue,u=r.resolver,l=e.name.value,f=i.argumentsObjectFromField(e,a),p={isLeaf:!e.selectionSet,resultKey:i.resultKeyNameFromField(e),directives:i.getDirectiveInfoFromField(e,a)},[4,u(l,t,f,s,p)];case 1:return d=n.sent(),e.selectionSet?null==d?[2,d]:Array.isArray(d)?[2,c(e,d,r)]:[2,o(e.selectionSet,d,r)]:[2,d]}})})}function c(e,t,r){return Promise.all(t.map(function(t){return null===t?null:Array.isArray(t)?c(e,t,r):o(e.selectionSet,t,r)}))}t.graphql=function(e,t,r,n,a,s){void 0===s&&(s={});var c=i.getMainDefinition(t),u=i.getFragmentDefinitions(t),l={fragmentMap:i.createFragmentMap(u),contextValue:n,variableValues:a,resultMapper:s.resultMapper,resolver:e,fragmentMatcher:s.fragmentMatcher||function(){return!0}};return o(c.selectionSet,r,l)}},77:function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(60),o=r(61),s="Invariant Violation",c=Object.setPrototypeOf,u=void 0===c?function(e,t){return e.__proto__=t,e}:c,l=function(e){function t(r){void 0===r&&(r=s);var n=e.call(this,"number"==typeof r?s+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;return n.framesToPop=1,n.name=s,u(n,t.prototype),n}return Object(n.__extends)(t,e),t}(Error);function f(e,t){if(!e)throw new l(t)}!function(e){e.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.warn.apply(console,e)},e.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.error.apply(console,e)}}(f||(f={}));var p={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},d=function(e,t,r){var n=new Error(r);throw n.name="ServerError",n.response=e,n.statusCode=e.status,n.result=t,n},h=function(e,t){var r;try{r=JSON.stringify(e)}catch(e){var n=new l(2);throw n.parseError=e,n}return r},m=function(e){void 0===e&&(e={});var t=e.uri,r=void 0===t?"/graphql":t,s=e.fetch,c=e.includeExtensions,u=e.useGETForQueries,f=Object(n.__rest)(e,["uri","fetch","includeExtensions","useGETForQueries"]);!function(e){if(!e&&"undefined"==typeof fetch)throw new l(1)}(s),s||(s=fetch);var m={http:{includeExtensions:c},options:f.fetchOptions,credentials:f.credentials,headers:f.headers};return new i.a(function(e){var t=function(e,t){var r=e.getContext().uri;return r||("function"==typeof t?t(e):t||"/graphql")}(e,r),c=e.getContext(),l={};if(c.clientAwareness){var f=c.clientAwareness,y=f.name,v=f.version;y&&(l["apollographql-client-name"]=y),v&&(l["apollographql-client-version"]=v)}var b,g=Object(n.__assign)({},l,c.headers),O={http:c.http,options:c.fetchOptions,credentials:c.credentials,headers:g},w=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=Object(n.__assign)({},t.options,{headers:t.headers,credentials:t.credentials}),s=t.http;r.forEach(function(e){a=Object(n.__assign)({},a,e.options,{headers:Object(n.__assign)({},a.headers,e.headers)}),e.credentials&&(a.credentials=e.credentials),s=Object(n.__assign)({},s,e.http)});var c=e.operationName,u=e.extensions,l=e.variables,f=e.query,p={operationName:c,variables:l};return s.includeExtensions&&(p.extensions=u),s.includeQuery&&(p.query=Object(o.a)(f)),{options:a,body:p}}(e,p,m,O),j=w.options,_=w.body;if(!j.signal){var E=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),S=E.controller,x=E.signal;(b=S)&&(j.signal=x)}if(u&&!e.query.definitions.some(function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})&&(j.method="GET"),"GET"===j.method){var I=function(e,t){var r=[],n=function(e,t){r.push(e+"="+encodeURIComponent(t))};"query"in t&&n("query",t.query);t.operationName&&n("operationName",t.operationName);if(t.variables){var i=void 0;try{i=h(t.variables,"Variables map")}catch(e){return{parseError:e}}n("variables",i)}if(t.extensions){var a=void 0;try{a=h(t.extensions,"Extensions map")}catch(e){return{parseError:e}}n("extensions",a)}var o="",s=e,c=e.indexOf("#");-1!==c&&(o=e.substr(c),s=e.substr(0,c));var u=-1===s.indexOf("?")?"?":"&";return{newURI:s+u+r.join("&")+o}}(t,_),M=I.newURI,F=I.parseError;if(F)return Object(i.c)(F);t=M}else try{j.body=h(_,"Payload")}catch(F){return Object(i.c)(F)}return new a.a(function(r){var n;return s(t,j).then(function(t){return e.setContext({response:t}),t}).then((n=e,function(e){return e.text().then(function(t){try{return JSON.parse(t)}catch(n){var r=n;return r.name="ServerParseError",r.response=e,r.statusCode=e.status,r.bodyText=t,Promise.reject(r)}}).then(function(t){return e.status>=300&&d(e,t,"Response not successful: Received status code "+e.status),Array.isArray(t)||t.hasOwnProperty("data")||t.hasOwnProperty("errors")||d(e,t,"Server response was missing for query '"+(Array.isArray(n)?n.map(function(e){return e.operationName}):n.operationName)+"'."),t})})).then(function(e){return r.next(e),r.complete(),e}).catch(function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&r.next(e.result),r.error(e))}),function(){b&&b.abort()}})})};var y=function(e){function t(t){return e.call(this,m(t).request)||this}return Object(n.__extends)(t,e),t}(i.a),v=r(1),b=r(75),g={test:function(e){return"client"===e.name.value},remove:!0},O=new Map;var w,j=(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),_=b.graphql,E=function(e){void 0===e&&(e={resolvers:{},defaults:{}});var t=e.defaults,r=e.cache,n=e.typeDefs,s=e.fragmentMatcher;return r&&t&&r.writeData({data:t}),new(function(i){function c(){return null!==i&&i.apply(this,arguments)||this}return j(c,i),c.prototype.writeDefaults=function(){r&&t&&r.writeData({data:t})},c.prototype.request=function(r,i){if(void 0===i&&(i=function(){return a.a.of({data:{}})}),n){var c=function(e){return(Array.isArray(e)?e:[e]).map(function(e){return"string"==typeof e?e:Object(o.a)(e)}).map(function(e){return e.trim()}).join("\n")}(n);r.setContext(function(e){var t=e.schemas;return{schemas:(void 0===t?[]:t).concat([{definition:c,directives:"directive @client on FIELD"}])}})}if(!Object(v.hasDirectives)(["client"],r.query))return i(r);var u,l="function"==typeof e.resolvers?e.resolvers():e.resolvers,f=function(e){var t=O.get(e);if(t)return t;Object(v.checkDocument)(e);var r=Object(v.removeDirectivesFromDocument)([g],e);return O.set(e,r),r}(r.query),p=r.query,d=(u=(Object(v.getMainDefinition)(p)||{}).operation).charAt(0).toUpperCase()+u.slice(1)||"Query",h=function(e,r,n,i,a){void 0===r&&(r={});var o=a.resultKey,s=r[o],c=r[e],u=o!==e;if(void 0!==s||void 0!==c)return s||c;var f=l[r.__typename||d];if(f){var p=f[e];if(p)return p(r,n,i,a)}return(u?s:c)||(t||{})[e]};f&&(r.query=f);var m=f&&i?i(r):a.a.of({data:{}});return new a.a(function(e){var t=!1,n=!1;m.subscribe({next:function(i){var a=i.data,o=i.errors,c=e.error.bind(e),u=r.getContext();n=!0,_(h,p,a,u,r.variables,{fragmentMatcher:s}).then(function(r){e.next({data:r,errors:o}),t&&e.complete(),n=!1}).catch(c)},error:e.error.bind(e),complete:function(){n||e.complete(),t=!0}})})},c}(i.a))};function S(e){return new i.a(function(t,r){return new a.a(function(n){var i,a,o;try{i=r(t).subscribe({next:function(i){i.errors&&(o=e({graphQLErrors:i.errors,response:i,operation:t,forward:r}))?a=o.subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)}):n.next(i)},error:function(i){(o=e({operation:t,networkError:i,graphQLErrors:i&&i.result&&i.result.errors,forward:r}))?a=o.subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)}):n.error(i)},complete:function(){o||n.complete.bind(n)()}})}catch(i){e({networkError:i,operation:t,forward:r}),n.error(i)}return function(){i&&i.unsubscribe(),a&&i.unsubscribe()}})})}!function(e){function t(t){var r=e.call(this)||this;return r.link=S(t),r}Object(n.__extends)(t,e),t.prototype.request=function(e,t){return this.link.request(e,t)}}(i.a);function x(e){return{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:I(e)}]}}function I(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e||null==e)return null;if(Array.isArray(e))return I(e[0]);var t=[];return Object.keys(e).forEach(function(r){var n={kind:"Field",name:{kind:"Name",value:r},selectionSet:I(e[r])||void 0};t.push(n)}),{kind:"SelectionSet",selections:t}}var M,F={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},k=function(){function e(){}return e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.read({query:Object(v.getFragmentQueryDocument)(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},e.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},e.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:Object(v.getFragmentQueryDocument)(e.fragment,e.fragmentName)})},e.prototype.writeData=function(e){var t,r,n=e.id,i=e.data;if(void 0!==n){var a=null;try{a=this.read({rootId:n,optimistic:!1,query:F})}catch(e){}var o=a&&a.__typename||"__ClientData",s=Object.assign({__typename:o},i);this.writeFragment({id:n,fragment:(t=s,r=o,{kind:"Document",definitions:[{kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:r||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:I(t)}]}),data:s})}else this.writeQuery({query:x(i),data:i})},e}();M||(M={});var D=r(37),R=r(4),T=new Map;if(T.set(1,2)!==T){var A=T.set;Map.prototype.set=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A.apply(this,e),this}}var C=new Set;if(C.add(3)!==C){var P=C.add;Set.prototype.add=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return P.apply(this,e),this}}var q={};"function"==typeof Object.freeze&&Object.freeze(q);try{T.set(q,q).delete(q)}catch(e){var V=function(e){return e&&function(t){try{T.set(t,t).delete(t)}finally{return e.call(Object,t)}}};Object.freeze=V(Object.freeze),Object.seal=V(Object.seal),Object.preventExtensions=V(Object.preventExtensions)}var N=!1;function Q(){var e=!N;return Object(v.isTest)()||(N=!0),e}var K=function(){function e(){}return e.prototype.ensureReady=function(){return Promise.resolve()},e.prototype.canBypassInit=function(){return!0},e.prototype.match=function(e,t,r){var n=r.store.get(e.id);return!n&&"ROOT_QUERY"===e.id||!!n&&(n.__typename&&n.__typename===t||(Q(),"heuristic"))},e}(),z=(function(){function e(e){e&&e.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(e.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}e.prototype.match=function(e,t,r){Object(R.b)(this.isReady);var n=r.store.get(e.id);if(!n)return!1;if(Object(R.b)(n.__typename),n.__typename===t)return!0;var i=this.possibleTypesMap[t];return!!(i&&i.indexOf(n.__typename)>-1)},e.prototype.parseIntrospectionResult=function(e){var t={};return e.__schema.types.forEach(function(e){"UNION"!==e.kind&&"INTERFACE"!==e.kind||(t[e.name]=e.possibleTypes.map(function(e){return e.name}))}),t}}(),function(){function e(){this.children=null,this.key=null}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return e.forEach(function(e){t=t.getOrCreate(e)}),t.key||(t.key=Object.create(null))},e.prototype.getOrCreate=function(t){var r=this.children||(this.children=new Map),n=r.get(t);return n||r.set(t,n=new e),n},e}()),U=Object.prototype.hasOwnProperty,L=function(){function e(e){void 0===e&&(e=Object.create(null));var t=this;this.data=e,this.depend=Object(D.wrap)(function(e){return t.data[e]},{disposable:!0,makeCacheKey:function(e){return e}})}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.depend(e),this.data[e]},e.prototype.set=function(e,t){t!==this.data[e]&&(this.data[e]=t,this.depend.dirty(e))},e.prototype.delete=function(e){U.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},e.prototype.clear=function(){this.replace(null)},e.prototype.replace=function(e){var t=this;e?(Object.keys(e).forEach(function(r){t.set(r,e[r])}),Object.keys(this.data).forEach(function(r){U.call(e,r)||t.delete(r)})):Object.keys(this.data).forEach(function(e){t.delete(e)})},e}();function W(e){return new L(e)}var B=function(){function e(e){void 0===e&&(e=new z);var t=this;this.cacheKeyRoot=e;var r=this,n=r.executeStoreQuery,i=r.executeSelectionSet;this.executeStoreQuery=Object(D.wrap)(function(e){return n.call(t,e)},{makeCacheKey:function(e){var t=e.query,n=e.rootValue,i=e.contextValue,a=e.variableValues,o=e.fragmentMatcher;if(i.store instanceof L)return r.cacheKeyRoot.lookup(t,i.store,o,JSON.stringify(a),n.id)}}),this.executeSelectionSet=Object(D.wrap)(function(e){return i.call(t,e)},{makeCacheKey:function(e){var t=e.selectionSet,n=e.rootValue,i=e.execContext;if(i.contextValue.store instanceof L)return r.cacheKeyRoot.lookup(t,i.contextValue.store,i.fragmentMatcher,JSON.stringify(i.variableValues),n.id)}})}return e.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(Object(n.__assign)({},e,{returnPartialData:!1})).result},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,r=e.query,n=e.variables,i=e.previousResult,a=e.returnPartialData,o=void 0===a||a,s=e.rootId,c=void 0===s?"ROOT_QUERY":s,u=e.fragmentMatcherFunction,l=e.config,f=Object(v.getQueryDefinition)(r);n=Object(v.assign)({},Object(v.getDefaultValues)(f),n);var p={store:t,dataIdFromObject:l&&l.dataIdFromObject||null,cacheRedirects:l&&l.cacheRedirects||{}},d=this.executeStoreQuery({query:r,rootValue:{type:"id",id:c,generated:!0,typename:"Query"},contextValue:p,variableValues:n,fragmentMatcher:u}),h=d.missing&&d.missing.length>0;return h&&!o&&d.missing.forEach(function(e){if(!e.tolerable)throw new R.a}),i&&Object(v.isEqual)(i,d.result)&&(d.result=i),{result:d.result,complete:!h}},e.prototype.executeStoreQuery=function(e){var t=e.query,r=e.rootValue,n=e.contextValue,i=e.variableValues,a=e.fragmentMatcher,o=void 0===a?$:a,s=Object(v.getMainDefinition)(t),c=Object(v.getFragmentDefinitions)(t),u={query:t,fragmentMap:Object(v.createFragmentMap)(c),contextValue:n,variableValues:i,fragmentMatcher:o};return this.executeSelectionSet({selectionSet:s.selectionSet,rootValue:r,execContext:u})},e.prototype.executeSelectionSet=function(e){var t=this,r=e.selectionSet,i=e.rootValue,a=e.execContext,o=a.fragmentMap,s=a.contextValue,c=a.variableValues,u={result:null},l=[],f=s.store.get(i.id),p=f&&f.__typename||"ROOT_QUERY"===i.id&&"Query"||void 0;function d(e){var t;return e.missing&&(u.missing=u.missing||[],(t=u.missing).push.apply(t,e.missing)),e.result}return r.selections.forEach(function(e){var r;if(Object(v.shouldInclude)(e,c))if(Object(v.isField)(e)){var u=d(t.executeField(f,p,e,a));void 0!==u&&l.push(((r={})[Object(v.resultKeyNameFromField)(e)]=u,r))}else{var h=void 0;if(Object(v.isInlineFragment)(e))h=e;else if(!(h=o[e.name.value]))throw new R.a;var m=h.typeCondition.name.value,y=a.fragmentMatcher(i,m,s);if(y){var b=t.executeSelectionSet({selectionSet:h.selectionSet,rootValue:i,execContext:a});"heuristic"===y&&b.missing&&(b=Object(n.__assign)({},b,{missing:b.missing.map(function(e){return Object(n.__assign)({},e,{tolerable:!0})})})),l.push(d(b))}}}),u.result=Object(v.mergeDeepArray)(l),u},e.prototype.executeField=function(e,t,r,n){var i=n.variableValues,a=n.contextValue,o=function(e,t,r,n,i,a){a.resultKey;var o=a.directives,s=r;(n||o)&&(s=Object(v.getStoreKeyName)(s,n,o));var c=void 0;if(e&&void 0===(c=e[s])&&i.cacheRedirects&&"string"==typeof t){var u=i.cacheRedirects[t];if(u){var l=u[r];l&&(c=l(e,n,{getCacheKey:function(e){return Object(v.toIdValue)({id:i.dataIdFromObject(e),typename:e.__typename})}}))}}if(void 0===c)return{result:c,missing:[{object:e,fieldName:s,tolerable:!1}]};Object(v.isJsonValue)(c)&&(c=c.json);return{result:c}}(e,t,r.name.value,Object(v.argumentsObjectFromField)(r,i),a,{resultKey:Object(v.resultKeyNameFromField)(r),directives:Object(v.getDirectiveInfoFromField)(r,i)});return Array.isArray(o.result)?this.combineExecResults(o,this.executeSubSelectedArray(r,o.result,n)):r.selectionSet?null==o.result?o:this.combineExecResults(o,this.executeSelectionSet({selectionSet:r.selectionSet,rootValue:o.result,execContext:n})):(G(r,o.result),o)},e.prototype.combineExecResults=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=null;return e.forEach(function(e){e.missing&&(r=r||[]).push.apply(r,e.missing)}),{result:e.pop().result,missing:r}},e.prototype.executeSubSelectedArray=function(e,t,r){var n=this,i=null;function a(e){return e.missing&&(i=i||[]).push.apply(i,e.missing),e.result}return{result:t=t.map(function(t){return null===t?null:Array.isArray(t)?a(n.executeSubSelectedArray(e,t,r)):e.selectionSet?a(n.executeSelectionSet({selectionSet:e.selectionSet,rootValue:t,execContext:r})):(G(e,t),t)}),missing:i}},e}();function G(e,t){if(!e.selectionSet&&Object(v.isIdValue)(t))throw new R.a}function $(){return!0}var J=function(){function e(e){void 0===e&&(e=Object.create(null)),this.data=e}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.data[e]},e.prototype.set=function(e,t){this.data[e]=t},e.prototype.delete=function(e){this.data[e]=void 0},e.prototype.clear=function(){this.data=Object.create(null)},e.prototype.replace=function(e){this.data=e||Object.create(null)},e}();var Y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="WriteError",t}return Object(n.__extends)(t,e),t}(Error);var Z=function(){function e(){}return e.prototype.writeQueryToStore=function(e){var t=e.query,r=e.result,n=e.store,i=void 0===n?W():n,a=e.variables,o=e.dataIdFromObject,s=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:r,document:t,store:i,variables:a,dataIdFromObject:o,fragmentMatcherFunction:s})},e.prototype.writeResultToStore=function(e){var t=e.dataId,r=e.result,n=e.document,i=e.store,a=void 0===i?W():i,o=e.variables,s=e.dataIdFromObject,c=e.fragmentMatcherFunction,u=Object(v.getOperationDefinition)(n);try{return this.writeSelectionSetToStore({result:r,dataId:t,selectionSet:u.selectionSet,context:{store:a,processedData:{},variables:Object(v.assign)({},Object(v.getDefaultValues)(u),o),dataIdFromObject:s,fragmentMap:Object(v.createFragmentMap)(Object(v.getFragmentDefinitions)(n)),fragmentMatcherFunction:c}})}catch(e){throw function(e,t){var r=new Y("Error writing result to store for query:\n "+JSON.stringify(t));return r.message+="\n"+e.message,r.stack=e.stack,r}(e,n)}},e.prototype.writeSelectionSetToStore=function(e){var t=this,r=e.result,n=e.dataId,i=e.selectionSet,a=e.context,o=a.variables,s=a.store,c=a.fragmentMap;return i.selections.forEach(function(e){if(Object(v.shouldInclude)(e,o))if(Object(v.isField)(e)){var i=Object(v.resultKeyNameFromField)(e),s=r[i];if(void 0!==s)t.writeFieldToStore({dataId:n,value:s,field:e,context:a});else{var u=!1,l=!1;e.directives&&e.directives.length&&(u=e.directives.some(function(e){return e.name&&"defer"===e.name.value}),l=e.directives.some(function(e){return e.name&&"client"===e.name.value})),!u&&!l&&a.fragmentMatcherFunction}}else{var f=void 0;Object(v.isInlineFragment)(e)?f=e:(f=(c||{})[e.name.value],Object(R.b)(f));var p=!0;if(a.fragmentMatcherFunction&&f.typeCondition){var d=Object(v.toIdValue)({id:"self",typename:void 0}),h={store:new J({self:r}),cacheRedirects:{}},m=a.fragmentMatcherFunction(d,f.typeCondition.name.value,h);Object(v.isProduction)(),p=!!m}p&&t.writeSelectionSetToStore({result:r,selectionSet:f.selectionSet,dataId:n,context:a})}}),s},e.prototype.writeFieldToStore=function(e){var t,r,i,a=e.field,o=e.value,s=e.dataId,c=e.context,u=c.variables,l=c.dataIdFromObject,f=c.store,p=Object(v.storeKeyNameFromField)(a,u);if(a.selectionSet&&null!==o)if(Array.isArray(o)){var d=s+"."+p;r=this.processArrayValue(o,d,a.selectionSet,c)}else{var h=s+"."+p,m=!0;if(X(h)||(h="$"+h),l){var y=l(o);Object(R.b)(!y||!X(y)),(y||"number"==typeof y&&0===y)&&(h=y,m=!1)}H(h,a,c.processedData)||this.writeSelectionSetToStore({dataId:h,result:o,selectionSet:a.selectionSet,context:c});var b=o.__typename;r=Object(v.toIdValue)({id:h,typename:b},m);var g=(i=f.get(s))&&i[p];if(g!==r&&Object(v.isIdValue)(g)){var O=void 0!==g.typename,w=void 0!==b,j=O&&w&&g.typename!==b;Object(R.b)(!m||g.generated||j),Object(R.b)(!O||w),g.generated&&(j?m||f.delete(g.id):function e(t,r,i){if(t===r)return!1;var a=i.get(t);var o=i.get(r);var s=!1;Object.keys(a).forEach(function(t){var r=a[t],n=o[t];Object(v.isIdValue)(r)&&X(r.id)&&Object(v.isIdValue)(n)&&!Object(v.isEqual)(r,n)&&e(r.id,n.id,i)&&(s=!0)});i.delete(t);var c=Object(n.__assign)({},a,o);if(Object(v.isEqual)(c,o))return s;i.set(r,c);return!0}(g.id,r.id,f))}}else r=null!=o&&"object"==typeof o?{type:"json",json:o}:o;(i=f.get(s))&&Object(v.isEqual)(r,i[p])||f.set(s,Object(n.__assign)({},i,((t={})[p]=r,t)))},e.prototype.processArrayValue=function(e,t,r,n){var i=this;return e.map(function(e,a){if(null===e)return null;var o=t+"."+a;if(Array.isArray(e))return i.processArrayValue(e,o,r,n);var s=!0;if(n.dataIdFromObject){var c=n.dataIdFromObject(e);c&&(o=c,s=!1)}return H(o,r,n.processedData)||i.writeSelectionSetToStore({dataId:o,result:e,selectionSet:r,context:n}),Object(v.toIdValue)({id:o,typename:e.__typename},s)})},e}();function X(e){return"$"===e[0]}function H(e,t,r){if(!r)return!1;if(r[e]){if(r[e].indexOf(t)>=0)return!0;r[e].push(t)}else r[e]=[t];return!1}var ee={fragmentMatcher:new K,dataIdFromObject:function(e){if(e.__typename){if(void 0!==e.id)return e.__typename+":"+e.id;if(void 0!==e._id)return e.__typename+":"+e._id}return null},addTypename:!0,resultCaching:!0};var te=Object.prototype.hasOwnProperty,re=function(e){function t(t,r,n){var i=e.call(this,Object.create(null))||this;return i.optimisticId=t,i.parent=r,i.transaction=n,i}return Object(n.__extends)(t,e),t.prototype.toObject=function(){return Object(n.__assign)({},this.parent.toObject(),this.data)},t.prototype.get=function(e){return te.call(this.data,e)?this.data[e]:this.parent.get(e)},t}(J),ne=function(e){function t(t){void 0===t&&(t={});var r=e.call(this)||this;r.watches=new Set,r.typenameDocumentCache=new Map,r.cacheKeyRoot=new z,r.silenceBroadcast=!1,r.config=Object(n.__assign)({},ee,t),r.config.customResolvers&&(r.config.cacheRedirects=r.config.customResolvers),r.config.cacheResolvers&&(r.config.cacheRedirects=r.config.cacheResolvers),r.addTypename=r.config.addTypename,r.data=r.config.resultCaching?new L:new J,r.optimisticData=r.data,r.storeReader=new B(r.cacheKeyRoot),r.storeWriter=new Z;var i=r,a=i.maybeBroadcastWatch;return r.maybeBroadcastWatch=Object(D.wrap)(function(e){return a.call(r,e)},{makeCacheKey:function(e){if(!e.optimistic&&!e.previousResult)return i.data instanceof L?i.cacheKeyRoot.lookup(e.query,JSON.stringify(e.variables)):void 0}}),r}return Object(n.__extends)(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).toObject()},t.prototype.read=function(e){return"string"==typeof e.rootId&&void 0===this.data.get(e.rootId)?null:this.storeReader.readQueryFromStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,rootId:e.rootId,fragmentMatcherFunction:this.config.fragmentMatcher.match,previousResult:e.previousResult,config:this.config})},t.prototype.write=function(e){this.storeWriter.writeResultToStore({dataId:e.dataId,result:e.result,variables:e.variables,document:this.transformDocument(e.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:this.config.fragmentMatcher.match}),this.broadcastWatches()},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,returnPartialData:e.returnPartialData,previousResult:e.previousResult,fragmentMatcherFunction:this.config.fragmentMatcher.match,config:this.config})},t.prototype.watch=function(e){var t=this;return this.watches.add(e),function(){t.watches.delete(e)}},t.prototype.evict=function(e){throw new R.a},t.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){for(var t=[],r=0,n=this.optimisticData;n instanceof re;)n.optimisticId===e?++r:t.push(n),n=n.parent;if(r>0){for(this.optimisticData=n;t.length>0;){var i=t.pop();this.performTransaction(i.transaction,i.optimisticId)}this.broadcastWatches()}},t.prototype.performTransaction=function(e,t){var r=this.data,n=this.silenceBroadcast;this.silenceBroadcast=!0,"string"==typeof t&&(this.data=this.optimisticData=new re(t,this.optimisticData,e));try{e(this)}finally{this.silenceBroadcast=n,this.data=r}this.broadcastWatches()},t.prototype.recordOptimisticTransaction=function(e,t){return this.performTransaction(e,t)},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=Object(v.addTypenameToDocument)(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(){var e=this;this.silenceBroadcast||this.watches.forEach(function(t){return e.maybeBroadcastWatch(t)})},t.prototype.maybeBroadcastWatch=function(e){e.callback(this.diff({query:e.query,variables:e.variables,previousResult:e.previousResult&&e.previousResult(),optimistic:e.optimistic}))},t}(k),ie=r(7),ae=r.n(ie),oe=r(30);r.d(t,"b",function(){return ae.a});var se=["request","uri","credentials","headers","fetch","fetchOptions","clientState","onError","cacheRedirects","cache","name","version"],ce=function(e){function t(t){void 0===t&&(t={});if(t){var r=Object.keys(t).filter(function(e){return-1===se.indexOf(e)});r.length>0&&console.warn("ApolloBoost was initialized with unsupported options: "+r.join(" "))}var o=t.request,s=t.uri,c=t.credentials,u=t.headers,l=t.fetch,f=t.fetchOptions,p=t.clientState,d=t.cacheRedirects,h=t.onError,m=t.name,v=t.version,b=t.cache;if(b&&d)throw new Error("Incompatible cache configuration. If providing `cache` then configure the provided instance with `cacheRedirects` instead.");b||(b=d?new ne({cacheRedirects:d}):new ne);var g=!!p&&E(n.__assign({},p,{cache:b})),O=S(h||function(e){var t=e.graphQLErrors,r=e.networkError;t&&t.map(function(e){var t=e.message,r=e.locations,n=e.path;return console.log("[GraphQL error]: Message: "+t+", Location: "+r+", Path: "+n)}),r&&console.log("[Network error]: "+r)}),w=!!o&&new i.a(function(e,t){return new a.a(function(r){var n;return Promise.resolve(e).then(function(e){return o(e)}).then(function(){n=t(e).subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)})}).catch(r.error.bind(r)),function(){n&&n.unsubscribe()}})}),j=new y({uri:s||"/graphql",fetch:l,fetchOptions:f||{},credentials:c||"same-origin",headers:u||{}}),_=i.a.from([O,w,g,j].filter(function(e){return!!e}));return e.call(this,{cache:b,link:_,name:m,version:v})||this}return n.__extends(t,e),t}(oe.c);t.a=ce}},[[309,1,0]]]);